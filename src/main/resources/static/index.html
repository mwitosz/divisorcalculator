<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <link rel="stylesheet" type="text/css" href="/css/simple.css">
        <script src="/js/jquery-3.5.1.js"></script>
        <link rel="stylesheet" href="/js/jquery-ui-1.12.1/jquery-ui.css">
        <script src="/js/jquery-ui-1.12.1/jquery-ui.min.js"></script>
        
         <script>
            
            function submit_form() {
                
                str_val = $('#num_list').val();
                numbers = str_val.split(',');
                
                $.ajax({
                    url     : '/divisor_calculator/calculate/Animals',
                    type    : 'POST',
                    async   : true,
                    cache   : false,
                    contentType: "application/json",
                    dataType: 'json',
                    data    : JSON.stringify(numbers),
                    success: function(data) {
                        str = JSON.stringify(data, null, 4);
                        alert(str);
                    }
                }).fail(function(xhr, status, error){
                    alert("Error");
                });
            }
             
            $( function() {

                $('#do_submit').button();

                $('#form').submit( function(event) {
                    event.preventDefault();
                    submit_form();
                });
            })
 
         </script>
    </head>
    <body>
        <div class="main">
            <form id="form">
                
                <div class="ui-widget">
                    <label for="num_list">Fill numbers: </label><input id="num_list" />
                </div>
                
                <div>
                    <label for="mapping_type">Select a mapping: </label>
                    <select name="mapping_type" id="speed">
                      <option selected="selected">Animals</option>
                      <option>Furnitures</option>
                    </select>
                </div>
                
                <div>
                    <input type="submit" id="do_submit" value="Submit"/>
                </div>
            </form>
        </div>
    </body>
</html>
